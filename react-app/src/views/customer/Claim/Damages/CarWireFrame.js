import { useEffect } from 'react'
import './index.module.css'

const damageMap = [
  'rightFrontDoor',
  'leftFrontDoor',
  'rightRearDoor',
  'trunk',
  'bonnet',
  'leftRearDoor',
]

const CarWireFrame = ({ damages, setDamages }) => {
  useEffect(() => {
    ;[1, 2, 3, 4, 5, 6].map((e) => {
      const smallCircle = document.querySelector(`#smallCircle-${e}`)
      smallCircle.addEventListener('click', () => {
        // console.log(typeof smallCircle.style.opacity)
        const previouslySelected = smallCircle.style.opacity === '1'
        smallCircle.style.opacity = previouslySelected ? '0' : '1'

        const temp = damages
        if (previouslySelected) {
          delete temp[damageMap[e - 1]]
        } else {
          temp[damageMap[e - 1]] = true
        }

        setDamages(temp)
        console.log('new damages', temp)
      })
    })
  })
  return (
    <svg
      width="188"
      height="486"
      viewBox="0 0 188 486"
      fill="none"
      className="mx-auto"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g id="car-wireframe">
        <path
          id="car"
          d="M124.109 39.8906C110.276 38.0572 78.0089 35.9906 59.6089 42.3906M124.109 39.8906C125.942 40.2239 129.609 42.2906 129.609 47.8906C134.942 74.3906 145.209 129.391 143.609 137.391M124.109 39.8906C138.06 41.0067 148.371 44.545 155.695 48.665M59.6089 42.3906C54.1089 71.8906 43.8089 132.591 46.6089 139.391M59.6089 42.3906C52.5828 43.4238 40.7397 45.6741 31.6089 48.665M31.6089 48.665C26.0114 50.4985 21.4331 52.6103 19.6089 54.8906M31.6089 48.665C28.2756 69.2402 22.3089 118.291 25.1089 149.891V263.891C24.6089 291.391 24.6089 348.191 28.6089 355.391C28.6089 363.057 30.5089 380.391 38.1089 388.391C54.1089 399.057 94.1089 416.391 126.109 400.391C133.109 398.391 148.109 392.691 152.109 385.891C155.276 381.057 161.909 361.091 163.109 319.891V153.891C163 120.907 161.364 53.6845 155.695 48.665M170.109 62.3906C168.593 58.9134 164.12 53.4043 155.695 48.665M162.609 151.391C156.609 171.224 144.609 214.191 144.609 227.391C141.776 245.391 136.709 292.291 139.109 335.891C140.609 346.891 144.709 372.691 149.109 387.891M158.609 360.391C152.109 346.213 140.209 305.766 144.609 257.391C147.442 233.557 155.009 183.691 162.609 174.891M25.6089 151.391C31.6089 171.224 43.6089 214.191 43.6089 227.391C46.4423 245.391 51.5089 292.291 49.1089 335.891M49.1089 335.891C47.6089 346.891 43.5089 372.691 39.1089 387.891M49.1089 335.891C57.4423 339.891 73.3089 345.191 94.1089 344.391C105.276 344.057 124.709 343.391 139.109 335.391M29.6089 360.391C36.1089 346.213 48.009 305.766 43.6089 257.391C40.7756 233.557 33.209 183.691 25.6089 174.891M43.1089 216.391C51.4422 212.391 73.3089 204.591 94.1089 205.391C105.276 205.724 131.209 208.391 145.609 216.391M14.1089 410.391C16.9422 419.557 28.7089 438.491 53.1089 440.891C67.4422 443.391 102.009 446.891 125.609 440.891C155.109 433.391 161.109 434.391 172.609 412.891M17.1089 421.891C18.6089 427.724 26.7089 440.491 47.1089 444.891C72.6089 450.391 88.1089 451.391 98.1089 450.391C108.109 449.391 137.109 447.891 147.609 442.891C158.109 437.891 169.109 426.391 171.109 419.891M38.6089 388.891L37.6089 435.891M150.109 388.891V434.391M144.609 265.391L162.609 259.891M143.609 273.891L162.609 266.891M43.609 265.391L25.109 259.391M44.109 273.391L25.109 266.391M13.1089 74.8906C14.9422 63.5572 22.8089 40.0906 39.6089 36.8906C47.7756 33.5572 69.7089 27.3906 92.1089 29.3906C112.442 29.0572 154.709 31.6906 161.109 44.8906C165.942 50.5572 175.509 66.9906 175.109 87.3906V395.391C174.442 411.891 168.909 445.291 152.109 446.891C142.609 450.724 116.109 457.991 86.1089 456.391C67.2756 456.557 28.0089 452.591 21.6089 435.391C18.4422 429.557 12.1089 412.091 12.1089 388.891V93.3906L13.1089 74.8906ZM25.6089 150.891C35.1089 143.557 62.3089 128.591 95.1089 127.391C107.442 126.724 138.309 130.491 163.109 150.891C155.109 147.557 136.809 140.391 127.609 138.391C121.442 136.557 106.309 133.191 95.1089 134.391C81.1089 135.891 61.1089 132.391 30.1089 150.891H25.6089ZM24.109 174.391C19.4423 177.224 9.90899 183.991 9.10899 188.391C8.30899 192.791 12.109 190.891 14.109 189.391L19.1089 186.891L21.6089 185.391L23.1089 184.391H24.6089V174.391H24.109ZM164.609 174.891L168.109 176.391L170.109 177.891L172.609 179.391L174.109 180.391C176.442 181.724 180.409 185.491 177.609 189.891H176.109L173.609 187.891L170.109 185.391L167.609 183.391L165.609 182.391H163.609V174.891H164.609Z"
          stroke="#00977D"
        />
        <g id="rightFrontDoor">
          <circle
            id="bigCircle"
            opacity="0.3"
            cx="174.5"
            cy="116.5"
            r="13.5"
            fill="#6153E3"
          />
          <circle
            id="smallCircle-1"
            cx="174.5"
            cy="116.5"
            r="5.5"
            fill="#6153E3"
          />
        </g>
        <g id="leftFrontDoor">
          <circle
            id="bigCircle_2"
            opacity="0.3"
            cx="13.5"
            cy="116.5"
            r="13.5"
            fill="#6153E3"
          />
          <circle
            id="smallCircle-2"
            cx="13.5"
            cy="116.5"
            r="5.5"
            fill="#6153E3"
          />
        </g>
        <g id="rightRearDoor">
          <circle
            id="bigCircle_3"
            opacity="0.3"
            cx="174.5"
            cy="297.5"
            r="13.5"
            fill="#6153E3"
          />
          <circle
            id="smallCircle-3"
            cx="174.5"
            cy="297.5"
            r="5.5"
            fill="#6153E3"
          />
        </g>
        <g id="trunk">
          <circle
            id="bigCircle_4"
            opacity="0.3"
            cx="93.5"
            cy="443.5"
            r="13.5"
            fill="#6153E3"
          />
          <circle
            id="smallCircle-4"
            cx="93.5"
            cy="443.5"
            r="5.5"
            fill="#6153E3"
          />
        </g>
        <g id="bonnet">
          <circle
            id="bigCircle_5"
            opacity="0.3"
            cx="93.5"
            cy="42.5"
            r="13.5"
            fill="#6153E3"
          />
          <circle
            id="smallCircle-5"
            cx="93.5"
            cy="42.5"
            r="5.5"
            fill="#6153E3"
          />
        </g>
        <g id="leftRearDoor">
          <circle
            id="bigCircle_6"
            opacity="0.3"
            cx="13.5"
            cy="297.5"
            r="13.5"
            fill="#6153E3"
          />
          <circle
            id="smallCircle-6"
            cx="13.5"
            cy="297.5"
            r="5.5"
            fill="#6153E3"
          />
        </g>
        <path
          id="Front"
          d="M70.2967 17C70.1767 17 70.0747 16.958 69.9907 16.874C69.9067 16.79 69.8647 16.688 69.8647 16.568V4.85C69.8647 4.718 69.9007 4.61 69.9727 4.526C70.0567 4.442 70.1647 4.4 70.2967 4.4H78.1087C78.2407 4.4 78.3487 4.442 78.4327 4.526C78.5167 4.61 78.5587 4.718 78.5587 4.85V6.11C78.5587 6.242 78.5167 6.35 78.4327 6.434C78.3487 6.506 78.2407 6.542 78.1087 6.542H72.3307V9.962H77.7487C77.8807 9.962 77.9887 10.004 78.0727 10.088C78.1567 10.172 78.1987 10.28 78.1987 10.412V11.672C78.1987 11.804 78.1567 11.912 78.0727 11.996C77.9887 12.068 77.8807 12.104 77.7487 12.104H72.3307V16.568C72.3307 16.7 72.2887 16.808 72.2047 16.892C72.1207 16.964 72.0127 17 71.8807 17H70.2967ZM81.5804 17C81.4604 17 81.3584 16.958 81.2744 16.874C81.1904 16.79 81.1484 16.688 81.1484 16.568V8.09C81.1484 7.97 81.1904 7.868 81.2744 7.784C81.3584 7.688 81.4604 7.64 81.5804 7.64H83.0384C83.1704 7.64 83.2784 7.682 83.3624 7.766C83.4464 7.85 83.4884 7.958 83.4884 8.09V8.828C83.7764 8.444 84.1364 8.15 84.5684 7.946C85.0124 7.742 85.5164 7.64 86.0804 7.64H86.8184C86.9504 7.64 87.0524 7.682 87.1244 7.766C87.2084 7.838 87.2504 7.94 87.2504 8.072V9.368C87.2504 9.488 87.2084 9.59 87.1244 9.674C87.0524 9.758 86.9504 9.8 86.8184 9.8H85.4144C84.8504 9.8 84.4064 9.962 84.0824 10.286C83.7584 10.61 83.5964 11.054 83.5964 11.618V16.568C83.5964 16.688 83.5544 16.79 83.4704 16.874C83.3864 16.958 83.2784 17 83.1464 17H81.5804ZM93.5712 17.18C92.1672 17.18 91.0812 16.82 90.3132 16.1C89.5452 15.368 89.1312 14.372 89.0712 13.112L89.0532 12.32L89.0712 11.528C89.1312 10.28 89.5512 9.29 90.3312 8.558C91.1112 7.826 92.1912 7.46 93.5712 7.46C94.9512 7.46 96.0312 7.826 96.8112 8.558C97.5912 9.29 98.0112 10.28 98.0712 11.528C98.0832 11.672 98.0892 11.936 98.0892 12.32C98.0892 12.704 98.0832 12.968 98.0712 13.112C98.0112 14.372 97.5972 15.368 96.8292 16.1C96.0612 16.82 94.9752 17.18 93.5712 17.18ZM93.5712 15.398C94.2072 15.398 94.6992 15.2 95.0472 14.804C95.3952 14.396 95.5872 13.802 95.6232 13.022C95.6352 12.902 95.6412 12.668 95.6412 12.32C95.6412 11.972 95.6352 11.738 95.6232 11.618C95.5872 10.838 95.3952 10.25 95.0472 9.854C94.6992 9.446 94.2072 9.242 93.5712 9.242C92.9352 9.242 92.4432 9.446 92.0952 9.854C91.7472 10.25 91.5552 10.838 91.5192 11.618L91.5012 12.32L91.5192 13.022C91.5552 13.802 91.7472 14.396 92.0952 14.804C92.4432 15.2 92.9352 15.398 93.5712 15.398ZM101.416 17C101.296 17 101.194 16.958 101.11 16.874C101.026 16.79 100.984 16.688 100.984 16.568V8.072C100.984 7.952 101.026 7.85 101.11 7.766C101.194 7.682 101.296 7.64 101.416 7.64H102.892C103.012 7.64 103.114 7.682 103.198 7.766C103.282 7.85 103.324 7.952 103.324 8.072V8.81C104.032 7.91 105.034 7.46 106.33 7.46C107.434 7.46 108.31 7.826 108.958 8.558C109.606 9.278 109.93 10.262 109.93 11.51V16.568C109.93 16.688 109.888 16.79 109.804 16.874C109.732 16.958 109.63 17 109.498 17H107.914C107.794 17 107.692 16.958 107.608 16.874C107.524 16.79 107.482 16.688 107.482 16.568V11.618C107.482 10.91 107.308 10.364 106.96 9.98C106.624 9.584 106.132 9.386 105.484 9.386C104.848 9.386 104.344 9.584 103.972 9.98C103.612 10.376 103.432 10.922 103.432 11.618V16.568C103.432 16.688 103.39 16.79 103.306 16.874C103.234 16.958 103.132 17 103 17H101.416ZM117.24 17C116.148 17 115.326 16.718 114.774 16.154C114.234 15.578 113.964 14.738 113.964 13.634V9.548H112.542C112.422 9.548 112.32 9.506 112.236 9.422C112.152 9.326 112.11 9.218 112.11 9.098V8.072C112.11 7.952 112.152 7.85 112.236 7.766C112.32 7.682 112.422 7.64 112.542 7.64H113.964V4.652C113.964 4.52 114.006 4.418 114.09 4.346C114.174 4.262 114.276 4.22 114.396 4.22H115.854C115.986 4.22 116.088 4.262 116.16 4.346C116.244 4.418 116.286 4.52 116.286 4.652V7.64H118.536C118.668 7.64 118.77 7.682 118.842 7.766C118.926 7.838 118.968 7.94 118.968 8.072V9.098C118.968 9.23 118.926 9.338 118.842 9.422C118.758 9.506 118.656 9.548 118.536 9.548H116.286V13.454C116.286 13.97 116.376 14.36 116.556 14.624C116.736 14.888 117.036 15.02 117.456 15.02H118.698C118.818 15.02 118.92 15.062 119.004 15.146C119.088 15.23 119.13 15.332 119.13 15.452V16.568C119.13 16.688 119.088 16.79 119.004 16.874C118.932 16.958 118.83 17 118.698 17H117.24Z"
          fill="black"
        />
        <path
          id="Rear"
          d="M75.3942 485C75.2742 485 75.1722 484.958 75.0882 484.874C75.0042 484.79 74.9622 484.688 74.9622 484.568V472.85C74.9622 472.718 74.9982 472.61 75.0702 472.526C75.1542 472.442 75.2622 472.4 75.3942 472.4H80.0562C81.5202 472.4 82.6662 472.742 83.4942 473.426C84.3342 474.11 84.7542 475.082 84.7542 476.342C84.7542 477.218 84.5382 477.956 84.1062 478.556C83.6862 479.144 83.0982 479.57 82.3422 479.834L84.9702 484.424C85.0062 484.496 85.0242 484.562 85.0242 484.622C85.0242 484.73 84.9822 484.82 84.8982 484.892C84.8262 484.964 84.7422 485 84.6462 485H83.0082C82.8162 485 82.6662 484.958 82.5582 484.874C82.4622 484.79 82.3722 484.67 82.2882 484.514L79.9662 480.248H77.4642V484.568C77.4642 484.688 77.4222 484.79 77.3382 484.874C77.2662 484.958 77.1642 485 77.0322 485H75.3942ZM80.0022 478.214C80.7222 478.214 81.2622 478.052 81.6222 477.728C81.9942 477.404 82.1802 476.936 82.1802 476.324C82.1802 475.712 81.9942 475.238 81.6222 474.902C81.2622 474.566 80.7222 474.398 80.0022 474.398H77.4642V478.214H80.0022ZM91.6841 485.18C90.3521 485.18 89.2901 484.796 88.4981 484.028C87.7181 483.248 87.3041 482.156 87.2561 480.752L87.2381 480.302L87.2561 479.852C87.3161 478.484 87.7361 477.41 88.5161 476.63C89.3081 475.85 90.3641 475.46 91.6841 475.46C93.1001 475.46 94.1921 475.892 94.9601 476.756C95.7401 477.62 96.1301 478.772 96.1301 480.212V480.59C96.1301 480.71 96.0881 480.812 96.0041 480.896C95.9201 480.98 95.8121 481.022 95.6801 481.022H89.7041V481.166C89.7281 481.826 89.9081 482.384 90.2441 482.84C90.5921 483.284 91.0661 483.506 91.6661 483.506C92.3741 483.506 92.9441 483.23 93.3761 482.678C93.4841 482.546 93.5681 482.462 93.6281 482.426C93.7001 482.39 93.8021 482.372 93.9341 482.372H95.4821C95.5901 482.372 95.6801 482.408 95.7521 482.48C95.8361 482.54 95.8781 482.618 95.8781 482.714C95.8781 483.002 95.7041 483.344 95.3561 483.74C95.0201 484.124 94.5341 484.46 93.8981 484.748C93.2621 485.036 92.5241 485.18 91.6841 485.18ZM93.6821 479.51V479.456C93.6821 478.748 93.5021 478.178 93.1421 477.746C92.7941 477.314 92.3081 477.098 91.6841 477.098C91.0601 477.098 90.5741 477.314 90.2261 477.746C89.8781 478.178 89.7041 478.748 89.7041 479.456V479.51H93.6821ZM101.659 485.18C101.047 485.18 100.483 485.06 99.9667 484.82C99.4627 484.568 99.0607 484.232 98.7607 483.812C98.4727 483.392 98.3287 482.93 98.3287 482.426C98.3287 481.61 98.6587 480.95 99.3187 480.446C99.9787 479.942 100.885 479.6 102.037 479.42L104.503 479.06V478.682C104.503 478.154 104.371 477.758 104.107 477.494C103.843 477.23 103.417 477.098 102.829 477.098C102.433 477.098 102.109 477.176 101.857 477.332C101.617 477.476 101.425 477.62 101.281 477.764C101.137 477.92 101.041 478.022 100.993 478.07C100.945 478.214 100.855 478.286 100.723 478.286H99.3367C99.2287 478.286 99.1327 478.25 99.0487 478.178C98.9767 478.106 98.9407 478.01 98.9407 477.89C98.9527 477.59 99.0967 477.248 99.3727 476.864C99.6607 476.48 100.099 476.15 100.687 475.874C101.275 475.598 101.995 475.46 102.847 475.46C104.263 475.46 105.295 475.778 105.943 476.414C106.591 477.05 106.915 477.884 106.915 478.916V484.568C106.915 484.688 106.873 484.79 106.789 484.874C106.717 484.958 106.615 485 106.483 485H105.025C104.905 485 104.803 484.958 104.719 484.874C104.635 484.79 104.593 484.688 104.593 484.568V483.866C104.329 484.25 103.951 484.568 103.459 484.82C102.979 485.06 102.379 485.18 101.659 485.18ZM102.271 483.47C102.931 483.47 103.471 483.254 103.891 482.822C104.311 482.39 104.521 481.76 104.521 480.932V480.554L102.721 480.842C102.025 480.95 101.497 481.124 101.137 481.364C100.789 481.604 100.615 481.898 100.615 482.246C100.615 482.63 100.777 482.93 101.101 483.146C101.425 483.362 101.815 483.47 102.271 483.47ZM110.556 485C110.436 485 110.334 484.958 110.25 484.874C110.166 484.79 110.124 484.688 110.124 484.568V476.09C110.124 475.97 110.166 475.868 110.25 475.784C110.334 475.688 110.436 475.64 110.556 475.64H112.014C112.146 475.64 112.254 475.682 112.338 475.766C112.422 475.85 112.464 475.958 112.464 476.09V476.828C112.752 476.444 113.112 476.15 113.544 475.946C113.988 475.742 114.492 475.64 115.056 475.64H115.794C115.926 475.64 116.028 475.682 116.1 475.766C116.184 475.838 116.226 475.94 116.226 476.072V477.368C116.226 477.488 116.184 477.59 116.1 477.674C116.028 477.758 115.926 477.8 115.794 477.8H114.39C113.826 477.8 113.382 477.962 113.058 478.286C112.734 478.61 112.572 479.054 112.572 479.618V484.568C112.572 484.688 112.53 484.79 112.446 484.874C112.362 484.958 112.254 485 112.122 485H110.556Z"
          fill="black"
        />
      </g>
    </svg>
  )
}

export default CarWireFrame
